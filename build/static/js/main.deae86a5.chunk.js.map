{"version":3,"sources":["services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","console","log","id","put","delete","Notification","message","className","style","color","fontSize","background","borderStyle","borderRadius","padding","marginBottom","Input","newSearch","handleSearchChange","addPerson","newName","handleNameChange","newNumber","handleNumberChange","value","onChange","onSubmit","type","Persons","persons","removePerson","visiblePersons","filter","person","name","number","search","toLowerCase","includes","map","Person","onClick","App","useState","setPersons","setNewName","setNewNumber","setNewSearch","notification","setNotification","useEffect","personServices","initialPersons","event","target","preventDefault","personObject","length","returnedPerson","concat","setTimeout","catch","error","find","n","window","confirm","replacePerson","remainingPersons","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.deae86a5.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    \r\n    return request.then(response => {\r\n        console.log(`Response: ${response}`)\r\n        console.log(`Response.data: ${response.data}`)\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst update = ({id, newObject}) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, { useEffect, useState } from 'react'\nimport personServices from './services/persons'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newSearch, setNewSearch] = useState('')\n  const [notification, setNotification] = useState('')\n\n  useEffect(() => {\n\n    personServices\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('Added person')\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n\n    const sameEntry = persons.filter(person => person.name === personObject.name)\n\n    if (sameEntry.length === 0) {\n      personServices\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNotification(`Added ${personObject.name}`)\n          setTimeout(() => {setNotification('')}, 3000)\n\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setNotification(`${error.response.data.error}`)\n          setTimeout(() => {setNotification('')}, 5000)\n        })\n      \n\n\n    } else {\n\n      const person = persons.find(n => n.name === personObject.name)\n\n      if (window.confirm(`${person.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const replacePerson = { ...person, number: newNumber }\n        personServices\n          .update({ id: replacePerson.id, newObject: replacePerson })\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.name !== personObject.name ? person : returnedPerson))\n            setNotification(`Modified ${person.name}`)\n            setTimeout(() => {setNotification('')}, 3000)\n          })\n          .catch(error => {\n            setNotification(`Information of ${person.name} has already been removed from the server`)\n            setTimeout(() => {setNotification('')}, 3000)\n          })\n      }\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = (id) => {\n\n    const person = persons.find(n => n.id === id)\n\n    if (window.confirm(`Do you really want to delete ${person.name}?`)) {\n      console.log('removed person')\n      const remainingPersons = persons.filter(n => n.id !== id)\n\n      personServices\n        .remove(id)\n        .then(() => {\n          setPersons(remainingPersons)\n        })\n      \n        setNotification(`Removed ${person.name}`)\n        setTimeout(() => {setNotification('')}, 1000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setNewSearch(event.target.value)\n  }\n\n  return (\n    <div>\n      <Notification message={notification}/>\n      <h2>Phonebook</h2>\n      <Input newSearch={newSearch} handleSearchChange={handleSearchChange} addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} newSearch={newSearch} removePerson={removePerson} />\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === ''){\n    return null\n  }\n\n  const notificationStyle = {\n    color: 'green',\n    fontSize: 32,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div className=\"error\" style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst Input = ({ newSearch, handleSearchChange, addPerson, newName, handleNameChange, newNumber, handleNumberChange }) => {\n  return (\n    <div>\n      filter shown with:\n      <input\n        value={newSearch}\n        onChange={handleSearchChange}\n      />\n      <form onSubmit={addPerson}>\n        <div>\n          name:\n          <input\n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n        <div>\n          number:\n          <input\n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nconst Persons = ({ persons, newSearch, removePerson }) => {\n\n  const visiblePersons = persons\n    .filter(person => {\n      const { name, number } = person;\n      const search = newSearch.toLowerCase()\n      if (!newSearch) return true;\n      if (name.toLowerCase().includes(search) || number.toLowerCase().includes(search)) return true;\n      else return false\n    })\n\n  return (\n    <div>\n      {visiblePersons.map(person => {\n        return (<Person key={person.name} person={person} removePerson={removePerson} />)\n      })}\n    </div>\n  )\n}\n\nconst Person = ({ person, removePerson }) => {\n  return (\n    <li>\n      {person.name} {person.number}\n      <button onClick={() => removePerson(person.id)}>remove</button>\n    </li>\n\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}